---
import { Image } from '@astrojs/image/components'
import Github from './Github'

export interface Props {
  techs: string[]
  image: ImageMetadata
  name: string
  desc: string
  url: string
  live?: string
}
const { techs, image, name, desc, url, live } = Astro.props
---

<li class="p-4 bg-[#21222a] m-4 inline-block">
  {
    live ? (
      <a class="m-auto" target="_blank" href={live} rel="noopener noreferrer">
        <Image
          loading={'lazy'}
          format={'webp'}
          alt={`${name} screenshot or related content if no screenshot makes sense`}
          src={image}
        />
      </a>
    ) : (
      <Image
        loading={'lazy'}
        format={'webp'}
        alt={`${name} screenshot or related content if no screenshot makes sense`}
        src={image}
      />
    )
  }
  <Github url={url.replace('https://github.com/wesngu28/', '')} client:idle />
  <div class={`pr-2 pl-2`}>
    <ul class={'flex mt-1 justify-center flex-wrap'}>
      {
        techs.map((arr, i) => {
          return (
            <li class="m-2 p-1 bg-[beige] text-black rounded-lg">
              <p>{arr}</p>
            </li>
          )
        })
      }
    </ul>
    <a target="_blank" href={url} rel="noopener noreferrer">
      <h2 class="hover:underline m-2 text-center font-bold text-lg">
        {name}
      </h2>
    </a>
    <p>{desc}</p>
  </div>
</li>
